<div class="container-fluid disable-card">
  <div class="row justify-content-center mt-4" data-aos="fade-up">
    <div class="col-lg-10 col-md-12">
      <div
        class="text-center z-depth-1 p-5 white ltr">
        <p class="h4 mb-4">
          {{ 'resources.dashboard.disablecard.form.title' | translate }}
        </p>

        <p>
          {{ 'resources.dashboard.disablecard.form.description' | translate }}
        </p>

        <app-spinner [isRunning]="isRequesting"></app-spinner>
        <table mat-table [dataSource]="dataSource" class="col-12">

            <ng-container matColumnDef="image">
                <th mat-header-cell *matHeaderCellDef>
                  بانک
                </th>
                <td mat-cell *matCellDef="let element">
                  <img src="../../assets/sepah-logo.svg"/>
                </td>
              </ng-container>

              
          <ng-container matColumnDef="pan">
            <th mat-header-cell *matHeaderCellDef>
              {{ 'resources.dashboard.disablecard.header.pan' | translate }}
            </th>
            <td mat-cell *matCellDef="let element">{{ element.pan | cardno }}</td>
          </ng-container>

          <ng-container matColumnDef="operation">
            <th mat-header-cell *matHeaderCellDef>
              {{ 'resources.dashboard.disablecard.header.status' | translate }}
            </th>
            <td mat-cell *matCellDef="let element">
              <button mdbBtn mdbWavesEffect  gradient="peach" [class.btn-disable]="element.status.status" [attr.disabled]="element.status.status?true:null" disabled rounded="true" class="btn-sm	btn-success" (click)="enableCard(element.pan)">
                <span>{{
                  'resources.dashboard.disablecard.button.enable' | translate
                }}</span>
              </button>
              <button mdbBtn mdbWavesEffect gradient="purple" [class.btn-disable]="!element.status.status" [attr.disabled]="!element.status.status?true:null" rounded="true" class="btn-sm btn-danger" (click)="disableCard(element.pan)">
                <span>{{
                  'resources.dashboard.disablecard.button.disable' | translate
                }}</span>
              </button>
              <button mdbBtn mdbWavesEffect gradient="aqua" rounded="true" class="btn-sm btn-danger" (click)="viewReceipt(element.pan)">
                <span>{{
                  'resources.dashboard.disablecard.button.viewreceipt' | translate
                }}</span>
              </button>
            </td>
          </ng-container>

          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>
              {{
                'resources.dashboard.disablecard.header.currentstatus'
                  | translate
              }}
            </th>
            <td mat-cell *matCellDef="let element">
              <span *ngIf="element.status.status">{{
                'resources.dashboard.disablecard.currentstatus.enable' | translate
              }}</span>
              <span *ngIf="!element.status.status">{{
                'resources.dashboard.disablecard.currentstatus.disable' | translate
              }}</span>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
    </div>
  </div>
</div>
